0</*! ::
@echo off
cscript //nologo //e:javascript "%~f0" %*
if "%1"==":" pause
goto :EOF */0;
!function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){(function(t,n){var i,r;try{e(15)}catch(r){i=r,t("ERROR: "+i.message),n(1)}}).call(n,e(1),e(16))},function(t,n,e){(function(n){t.exports=function(){return n.Echo([].slice.apply(arguments).join(" "))}}).call(n,e(7))},function(t,n){t.exports=new ActiveXObject("Scripting.FileSystemObject")},function(t,n,e){(function(n,e){var i;t.exports=i=n.BuildPath(e.SpecialFolders("AppData"),"nvm$")}).call(n,e(2),e(5))},function(t,n,e){(function(t,n,e,i){var r,s,o,a,l,u;this.name=o="junction.exe",this.path=a=function(){return t.BuildPath(t.GetParentFolderName(n.ScriptFullName),o)},a.exists=function(){return t.FileExists(a())},this.src=l=function(){return t.BuildPath(t.GetParentFolderName(n.ScriptFullName),t.BuildPath("../sis",o))},this.dst=r=function(){return t.BuildPath(e,o)},l.exists=function(){return t.FileExists(l())},this.link=s=t.BuildPath(e,"current"),u=function(t){var e;for(e=[];!t.Status;)e.push(n.Sleep(100));return e},this.exec=function(n,o){return o&&t.FolderExists(s)?void 0:(u(i.exec('"'+r()+'" -d "'+s+'"')),i.exec('"'+r()+'" "'+s+'" "'+t.BuildPath(e,n)+'"'))},this.eula=function(){return i.RegWrite("HKCU\\Software\\Sysinternals\\Junction\\EulaAccepted",1,"REG_DWORD")}}).call(n,e(2),e(7),e(3),e(5))},function(t,n){t.exports=new ActiveXObject("WScript.Shell")},function(t,n){var e,i,r,s;this.cmpv=r=function(t,n){return t===n?0:n>t?-1:1},this.cmpa=i=function(t,n,e){var i,r,s,o;for(i=0,r=t.length,s=n.length;;){switch(Number(r>i)+2*Number(s>i)){case 0:return 0;case 1:return 1;case 2:return-1;default:if(o=e(t[i],n[i]))return o}i++}},this.cmp=e=function(t,n){return i(t,n,function(t,n){return i(t,n,r)})},this.cmpi=function(t,n){return e(t.id,n.id)},s=function(t,n,e){var i,r,s,o;for(i=r=0,s=n.length;s>r;i=++r)if(o=n[i],null!=o&&!e(t[i],o))return!1;return!0},this.match=function(t,n){return s(t,n,function(t,n){return s(t,n,function(t,n){return t===n})})}},function(t,n){t.exports=WScript},function(t,n,e){var i;i=e(29),t.exports=i.slice(Number(":"===i[0]))},function(t,n,e){(function(t,n,e,i,r){var s,o,a;this.name="install",this.stage="normal",this.title="Install Node.js",o=function(){var n;n=[];for(s in t)n.push(s);return n}(),this.args="["+o.join("|")+"] [n[.n[.n]]] [x86|x64]",this.description="Install specified Node.js version.\n\nUse `nvm$ ls remote` to see available Node.js versions.",this.cmd=function(){var t,i,r,s,o,l;for(t=a(),o=n.list().reverse(),i=0,r=o.length;r>i;i++)if(s=o[i],e.match(s.id,t.z)){l=s;break}if(!l)throw Error("Specified Node.js version not found!");return l.install(t.x64)},this.parse=a=function(t){var n,e,s,a,l,u;for(null==t&&(t=i.slice(1)),e=r.apply(r,o),a={},n=0,s=t.length;s>n;n++)u=t[n],(l=e[u])?a.dist=l:/^x(\d)/.test(u)?a.x64=/^6/.test(RegExp.$1):/^\d/.test(u)&&(a.ver=function(){var t,n,e,i;for(e=u.split(/\D+/),i=[],t=0,n=e.length;n>t;t++)u=e[t],u.length&&i.push(Number(u));return i}());return a.z=[a.ver||[],[a.dist]],a.local=function(){return this.z[1].push(this.x64),this},a}}).call(n,e(18),e(19),e(6),e(8),e(11))},function(t,n,e){(function(t,n,e,i,r,s){var o;this.list=function(){var r,s,a;return s=[],a=o(),r=t.GetFolder(n).SubFolders,e(r,function(n){var e,i,r;if(/^(\w+)-\D*(\d+(?:[.]\d+)*)-x(\d+)/.test(n.Name))return s.push({id:[function(){var t,n,e,i;for(e=RegExp.$2.split("."),i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(Number(r));return i}(),[e=RegExp.$1,i=/^6/.test(RegExp.$3)]],dist:e,x64:i,path:n.Name,active:a?t.FileExists(t.BuildPath(n.Path,a.r)):void 0})}),a&&t.DeleteFile(a.p),s.sort(i.cmpi)},o=function(){var n,e,i;if(t.FolderExists(r.link))for(n=16;--n;)if(!t.FileExists(e=t.BuildPath(r.link,i=s(15))))try{return t.CreateTextFile(e,!0).Close(),{p:e,r:i}}catch(o){return}}}).call(n,e(2),e(3),e(12),e(6),e(4),e(33))},function(t,n,e){(function(e){function i(){Object.defineProperty(Array.prototype,"abbrev",{value:function(){return e(this)},enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(Object.prototype,"abbrev",{value:function(){return e(Object.keys(this))},enumerable:!1,configurable:!0,writable:!0})}function e(t){1===arguments.length&&Array.isArray(t)||(t=Array.prototype.slice.call(arguments,0));for(var n=0,e=t.length,i=[];e>n;n++)i[n]="string"==typeof t[n]?t[n]:String(t[n]);i=i.sort(r);for(var s={},o="",n=0,e=i.length;e>n;n++){var a=i[n],l=i[n+1]||"",u=!0,c=!0;if(a!==l){for(var f=0,h=a.length;h>f;f++){var d=a.charAt(f);if(u=u&&d===l.charAt(f),c=c&&d===o.charAt(f),!u&&!c){f++;break}}if(o=a,f!==h)for(var p=a.substr(0,f);h>=f;f++)s[p]=a,p+=a.charAt(f);else s[a]=a}}return s}function r(t,n){return t===n?0:t>n?1:-1}t.exports=n=e.abbrev=e,e.monkeyPatch=i}).call(n,e(11))},function(t,n){t.exports=function(t,n){var e,i,r;for("function"!=typeof n&&(r=[]),i=0,e=new Enumerator(t);!e.atEnd();){if(r)r.push(e.item());else if(!1===n(e.item(),i++))return;e.moveNext()}return r}},function(t,n,e){(function(t,n,e,i){var r,s,o,a,l,u,c=[].slice;this.all=r=[],this.lookup=a={},this.list=function(){var n,e,i,o,l,u,f,h,d,p,v,m,g,x,b;for(p=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],g=p.stage,d=[],o=0,f=i.length;f>o;o++)if(e=i[o],e.name&&(!e.stage||e.stage===g)){for(e.alias=n=e.alias?e.alias.split(/\s+/):[],v=n.concat(e.name),l=0,h=v.length;h>l;l++)b=v[l],a[b]=e,d.push(b);r.push(e)}m=t.apply(this,d);for(u in m)x=m[u],a[u]=a[x];return s()},u=function(){},this.dispatch=s=function(){var t;return(t=a[n[0]])||(l(),e(1)),u(),t.cmd.call(t,n.slice(1))},this.header=o=function(){return i("nvm$ v0.1.0: Node Version for MS Windows\n")},l=function(){return o(),i("Run nvm$ help for instructions.")}}).call(n,e(11),e(8),e(16),e(1))},function(t,n,e){(function(n){t.exports=function(t){var e;for(e=[];!n.FolderExists(t);)e.push(t),t=n.GetParentFolderName(t);for(;t=e.pop();)n.CreateFolder(t)}}).call(n,e(2))},function(t,n,e){(function(t,n){t.list({stage:n},e(20),e(15),e(9),e(21),e(22),e(23),e(24),e(25),e(26),e(27))}).call(n,e(13),e(34))},function(t,n,e){(function(n){t.exports=function(t){return null==t&&(t=0),n.Quit(t)}}).call(n,e(7))},function(t,n,e){(function(n,e,i){t.exports=function(t){var r;return n(r=e.BuildPath(i,t)),r=e.BuildPath(r,"nvm$.bat"),e.CreateTextFile(r,!0).WriteLine('@"%~dp0..\\nvm$.bat" %*')}}).call(n,e(14),e(2),e(3))},function(t,n,e){t.exports={node:"https://nodejs.org/dist/",iojs:"https://iojs.org/dist/"}},function(t,n,e){(function(t,n,e,i,r,s,o,a,l,u,c,f,h){var d,p,v,m;this.list=function(a){var l,u,c,f,h,m,g;c=[];for(u in t)m=t[u],l=n.BuildPath(e,u+".tsv"),!a&&p(l)?f=n.OpenTextFile(l).ReadAll():(h=m+"index.tab",i("Fetching <"+h+">..."),n.CreateTextFile(l,!0).WriteLine(f=r.get(h))),f=function(){var t,n,e,i;for(e=s(f),i=[],t=0,n=e.length;n>t;t++)g=e[t],v(g)&&i.push(new d(g,u));return i}(),c=c.concat(f);return c.sort(o.cmpi)},p=function(t){return n.FileExists(t)&&new Date-n.GetFile(t).DateLastModified<864e5},v=function(t){return~t.files.indexOf("-msi")},d=function(t,n){var e,i;return e=function(){var n,e,r,s;for(r=t.version.split(/\D+/),s=[],n=0,e=r.length;e>n;n++)i=r[n],i.length&&s.push(Number(i));return s}(),this.id=[e,[n]],this.dist=n,this.src=t,this},m=d.prototype,m.ver=function(){return this.dist+"-"+this.src.version+"-x"+(this.x64?64:86)},m.msi=function(t){var i;return i=this.ver()+".msi",t?n.BuildPath(e,i):i},m.uri=function(){return""+t[this.dist]+this.src.version+"/"+(this.x64&&!this.id[0][0]?"x64/":"")+this.msi(!1)},m.fetch=function(){var t;return i("Fetching <"+(t=this.uri())+">..."),r.dl(t,this.msi(!0))},m.extract=function(){var t,r,s;return i("Extracting "+this.msi()+"..."),n.FolderExists(r=n.BuildPath(e,s=this.ver()))&&n.DeleteFolder(r),a.Run('msiexec /a "'+this.msi(!0)+'" TARGETDIR='+r+" /passive",1,!0),n.FolderExists(this.dst=t=n.BuildPath(l,s))&&n.DeleteFolder(t),n.MoveFolder(u(n.GetFolder(r).SubFolders).shift().Path,t),n.DeleteFolder(r)},m.shortcuts=function(){return i("Creating shortcuts..."),c(this.ver()),"node"!==this.dist?n.CopyFile(n.BuildPath(this.dst,this.dist+".exe"),n.BuildPath(this.dst,"node.exe")):void 0},m.prefix=function(){var t;return i("Adjusting NPM prefix..."),t=n.OpenTextFile(n.BuildPath(this.dst,"node_modules/npm/npmrc"),8),t.WriteLine('\n# <hack dirty src="https://github.com/ukoloff/nvms">\nprefix=${APPDATA}\\nvm$\\current\n# </hack>'),t.Close()},m.use=function(){var t;return i("Using "+(t=this.ver())+"..."),f.exec(t)},m.install=function(t){return this.x64=null!=t?t:h,this.fetch(),this.extract(),this.shortcuts(),this.prefix(),this.use()}}).call(n,e(18),e(2),e(31),e(1),e(28),e(35),e(6),e(5),e(3),e(12),e(17),e(4),e(30))},function(t,n,e){(function(t,n){var e,i;this.name="help",this.title="Show help for all or individual commands",this.args="[command]",this.description="Shows information on individual commands or nvm$ itself.",this.cmd=function(n){var r;return t.header(),(r=t.lookup[n[0]])?e(r):i()},e=function(t){return n("nvm$ "+t.name+": "+t.title),t.alias.length&&n("\nAlias: "+t.alias.join(", ")),n("\nUsage: nvm$ "+t.name+" "+(t.args||"")+"\n\n"+(t.description||""))},i=function(){var e,i,r,s;for(n("Usage: nvm$ [:] <command> [parameter(s)]\n\nCommands:"),r=t.all,e=0,i=r.length;i>e;e++)s=r[e],n("	"+s.name+"	"+s.title);return n("\nStart with colon (:) to force pause after script end.\n\nCommand names may be unambiguously abbreviated.\n\nRun nvm$ help <command> for more instructions.")}}).call(n,e(13),e(1))},function(t,n,e){(function(t,n,i,r,s){var o,a,l,u,c,f;o=e(9),this.name="ls",this.stage="normal",this.title="List available Node.js versions",this.args="[remote] "+o.args,this.description="List already installed or all available to install Node.js versions",this.cmd=function(){return/^r/i.test(t[1])?f():a()},a=function(){var t,e,s,a,l;for(t=o.parse().local(),a=n.list(),e=0,s=a.length;s>e;e++)l=a[e],i.match(l.id,t.z)&&r((l.active?">":"-")+" "+l.path)},f=function(){var n,e,a,f,h,d,p,v,m;for(n=o.parse(t.slice(2)),p=[],v=l(s.list()),e=0,h=v.length;h>e;e++)m=v[e],i.match(m.id,n.z)&&(f&&!i.cmp(f.major,m.major)?f.minors.push(m.minor):p.push(f=m));for(a=0,d=p.length;d>a;a++)m=p[a],r("- "+m.dist+" "+m.src.version+u(c(m.minors)))},l=function(t){var n,e,i,r;for(n=0,e=t.length;e>n;n++)r=t[n],i=r.major=r.id.slice(),i=i[0]=i[0].slice(),r.minors=[r.minor=i.pop()];return t},c=function(t){var n,e,i,r,s;for(s=[],n=0,i=t.length;i>n;n++)r=t[n],e&&e.b+1===r?e.b=r:s.push(e={a:r,b:r});return s},u=function(t){var n,e;return e=function(){var i,r,s;for(s=[],n=i=0,r=t.length;r>i;n=++i)e=t[n],s.push(""+(n?e.a:"")+(e.b>e.a?" - "+e.b:""));return s}(),e.join(", ")}}).call(n,e(8),e(10),e(6),e(1),e(19))},function(t,n,e){(function(t,n,i,r,s,o,a){var l,u,c,f;u=e(9),this.name="remove",this.alias="uninstall",this.stage="normal",this.title="Remove Node.js",this.args="[all] "+u.args,this.description="Remove specified Node.js version or all installed versions.\n\nNB: No additional confirmation(s) will be requested!",this.cmd=function(){return/^a/i.test(t[1])?l():c()},l=function(){var e,s,o,a,l,c;for(a=0,e=u.parse(t.slice(2)).local().z,c=n.list(),s=0,o=c.length;o>s;s++)l=c[s],i.match(l.id,e)&&(f(l),a++);return r("Node.js versions found & uninstalled: "+a)},c=function(){var t,e,r,s,o;for(t=u.parse().local().z,o=n.list(),e=0,r=o.length;r>e;e++)if(s=o[e],i.match(s.id,t))return void f(s);if(!x)throw Error("Specified Node.js version not installed!")},f=function(t){return r("removing "+t.path),s.DeleteFolder(s.BuildPath(o,t.path)),t.active?a.exec("none"):void 0}}).call(n,e(8),e(10),e(6),e(1),e(2),e(3),e(4))},function(t,n,e){(function(t,n,e,i,r,s,o,a,l){this.name="setup",this.stage="pre",this.title="Install nvm$",this.description="Installs all files to <"+t+"> and fiddles PATH.",this.cmd=function(){return n.header(),e("Installing to <"+t+">..."),i(t),e("Copying files..."),r.CopyFile(s.ScriptFullName,r.BuildPath(t,"nvm$.bat")),r.CopyFile(o.src(),o.dst()),e("Creating shortcuts..."),a("none"),o.eula(),o.exec("none",!0),e("Updating PATH..."),l.install(),e("Installation complete.\nOpen new console and run 'nvm$ help' to start.")}}).call(n,e(3),e(13),e(1),e(14),e(2),e(7),e(4),e(17),e(32))},function(t,n,e){(function(t,n,i,r,s){var o,a;o=e(9),this.name="use",this.stage="normal",this.title="Use installed before Node.js version",this.args="[ none | "+o.args+" ]",this.description="Make specified Node.js version active for all processes of current user.\n\nOnly installed versions are used. Use `nvm$ install` for new ones.\n\nSay `nvm$ use none` to temprarily disable nvm$.",this.cmd=function(){var e,l,u,c,f,h;if("none"===t[1])return a();for(e=o.parse().local().z,f=n.list().reverse(),l=0,u=f.length;u>l;l++)if(c=f[l],i.match(c.id,e)){h=c;break}if(!h)throw Error("Specified Node.js version not installed!");return r("Using "+h.path),s.exec(h.path)},a=function(){return r("Temporary disabling nvm$"),s.exec("none")}}).call(n,e(8),e(10),e(6),e(1),e(4))},function(t,n,e){(function(t){this.name="version",this.title="Show version",this.description="Displays nvm$ version.",this.cmd=function(){return t("0.1.0")}}).call(n,e(1))},function(t,n,e){(function(t,n,e){this.name="which",this.stage="normal",this.title="Display path to current Node.js",this.description="Shows which folder with Node.js is active for all processes of current user",this.cmd=function(){var i,r,s,o;for(s=t.list(),i=0,r=s.length;r>i;i++)if(o=s[i],o.active)return void n(o.path);return n(e.link)}}).call(n,e(10),e(1),e(4))},function(t,n,e){(function(t){this.name="www",this.alias="repo",this.title="Open homepage",this.description="Opens nvm$ repository in default browser.",this.cmd=function(){return t.run("https://github.com/ukoloff/nvms")}}).call(n,e(5))},function(t,n){var e,i;e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],t.exports=i=function(){var t,n,i;for(t=0,n=e.length;n>t;t++){i=e[t];try{return new ActiveXObject(i)}catch(r){}}throw Error("AJAX not supported!")},i.get=function(t,n){var e;if(e=i(),e.open("GET",t,!1),e.send(null),200!==e.status)throw Error("HTTP error "+e.status+": "+e.statusText);return n?e.responseBody:e.responseText},i.dl=function(t,n){var e,r;return e=i.get(t,!0),r=new ActiveXObject("adodb.stream"),r.Type=1,r.Open(),r.Write(e),r.SaveToFile(n,2),r.Close()}},function(t,n,e){(function(n,e){t.exports=n(e.Arguments)}).call(n,e(12),e(7))},function(t,n,e){(function(n){t.exports=function(){try{return 0>n.RegRead("HKLM\\HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0\\Identifier").indexOf("x86")}catch(t){}}()}).call(n,e(5))},function(t,n,e){(function(n,e,i){n(t.exports=e.BuildPath(i,"cache"))}).call(n,e(14),e(2),e(3))},function(t,n,e){(function(n,e,i){var r,s,o,a;o="Path",s=n.Environment("User"),t.exports=a=function(){return s(o).split(";")},r=new Function("o,k,v","o(k)=v"),a.install=function(t){var n,l;return null==t&&(t=!0),n=e.BuildPath(i,"current"),l=function(){var t,e,i,r;for(i=a(),r=[],t=0,e=i.length;e>t;t++)l=i[t],l!==n&&r.push(l);return r}(),t&&l.unshift(n),r(s,o,l=l.join(";"))}}).call(n,e(5),e(2),e(3))},function(t,n){var e,i;t.exports=i=function(t){var n;for(null==t&&(t=12),n="";n.length<t;)n+=e();return n},i["char"]=e=function(){var t;return t=Math.floor(62*Math.random()),String.fromCharCode(t%26+"Aa0".charCodeAt(t/26))}},function(t,n,e){(function(n){t.exports=n.path.exists()?"normal":"pre"}).call(n,e(4))},function(t,n){var e,i,r;t.exports=r=function(t){return e(i(t))},i=function(t){var n,e,i,r,s,o;for(e="",n=[],s=[],o=function(n){return n.test(t),e+=RegExp.leftContext,t=RegExp.rightContext};t.length;){if(r)switch(o(/""?|$/),RegExp.lastMatch){case'"':r=!1;continue;case'""':e+='"';continue;case"":i=!0}else{if(o(/\t|"|\r\n?|\n|$/),'"'===RegExp.lastMatch){r=!0;continue}i="	"!==RegExp.lastMatch}n.push(e),e="",i&&(s.push(n),n=[])}return s},e=function(t){var n,e,i,r,s,o,a,l,u,c;for(c=[],i=0,s=t.length;s>i;i++)if(a=t[i],a.length>1||a[0].length>0)if(n)for(c.push(u={}),e=r=0,o=n.length;o>r;e=++r)l=n[e],u[l]=a[e];else n=a;return c}}]);
