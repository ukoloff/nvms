0</*! ::
@echo off
cscript //nologo //e:javascript "%~f0" %*
if "%1"==":" pause
goto :EOF */0;
!function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){(function(t,n){var i,r;try{e(13)}catch(r){i=r,t("ERROR: "+i.message),n(1)}}).call(n,e(2),e(14))},function(t,n){t.exports=new ActiveXObject("Scripting.FileSystemObject")},function(t,n,e){(function(n){t.exports=function(){return n.Echo([].slice.apply(arguments).join(" "))}}).call(n,e(7))},function(t,n,e){(function(n,e){var i;t.exports=i=n.BuildPath(e.SpecialFolders("AppData"),"nvm$")}).call(n,e(1),e(5))},function(t,n,e){(function(t,n,e,i){var r,s,o,a,l,u;this.name=o="junction.exe",this.path=a=function(){return t.BuildPath(t.GetParentFolderName(n.ScriptFullName),o)},a.exists=function(){return t.FileExists(a())},this.src=l=function(){return t.BuildPath(t.GetParentFolderName(n.ScriptFullName),t.BuildPath("../sis",o))},this.dst=r=function(){return t.BuildPath(e,o)},l.exists=function(){return t.FileExists(l())},this.link=s=t.BuildPath(e,"current"),u=function(t){var e;for(e=[];!t.Status;)e.push(n.Sleep(100));return e},this.exec=function(n,o){return o&&t.FolderExists(s)?void 0:(u(i.exec('"'+r()+'" -d "'+s+'"')),i.exec('"'+r()+'" "'+s+'" "'+t.BuildPath(e,n)+'"'))},this.eula=function(){return i.RegWrite("HKCU\\Software\\Sysinternals\\Junction\\EulaAccepted",1,"REG_DWORD")}}).call(n,e(1),e(7),e(3),e(5))},function(t,n){t.exports=new ActiveXObject("WScript.Shell")},function(t,n){var e,i,r,s;this.cmpv=r=function(t,n){return t===n?0:n>t?-1:1},this.cmpa=i=function(t,n,e){var i,r,s,o;for(i=0,r=t.length,s=n.length;;){switch(Number(r>i)+2*Number(s>i)){case 0:return 0;case 1:return 1;case 2:return-1;default:if(o=e(t[i],n[i]))return o}i++}},this.cmp=e=function(t,n){return i(t,n,function(t,n){return i(t,n,r)})},this.cmpi=function(t,n){return e(t.id,n.id)},s=function(t,n,e){var i,r,s,o;for(i=r=0,s=n.length;s>r;i=++r)if(o=n[i],null!=o&&!e(t[i],o))return!1;return!0},this.match=function(t,n){return s(t,n,function(t,n){return s(t,n,function(t,n){return t===n})})}},function(t,n){t.exports=WScript},function(t,n,e){(function(t,n,e,i){var r,s,o;this.name="install",this.stage="normal",this.title="Install Node.js",s=function(){var n;n=[];for(r in t)n.push(r);return n}(),this.args="["+s.join("|")+"] [n[.n[.n]]] [x86|x64]",this.help="Install specified Node.js version.\n\nUse `nvm$ ls remote` to see available Node.js versions.",this.cmd=function(t){var i,r,s,a,l,u;for(i=o(t),l=n.list().reverse(),r=0,s=l.length;s>r;r++)if(a=l[r],e.match(a.id,i.z)){u=a;break}if(!u)throw Error("Specified Node.js version not found!");return u.install(i.x64)},this.parse=o=function(t){var n,e,r,o,a,l;for(null==t&&(t=[]),e=new i,e.add({words:s}),o={},n=0,r=t.length;r>n;n++)l=t[n],(a=e.is(l))?o.dist=a:/^x(\d)/.test(l)?o.x64=/^6/.test(RegExp.$1):/^\d/.test(l)&&(o.ver=function(){var t,n,e,i;for(e=l.split(/\D+/),i=[],t=0,n=e.length;n>t;t++)l=e[t],l.length&&i.push(Number(l));return i}());return o.z=[o.ver||[],[o.dist]],o.local=function(){return this.z[1].push(this.x64),this},o}}).call(n,e(18),e(19),e(6),e(15))},function(t,n,e){(function(t,n,e,i,r,s){var o;this.list=function(){var r,s,a;return s=[],a=o(),r=t.GetFolder(n).SubFolders,e(r,function(n){var e,i,r;if(/^(\w+)-\D*(\d+(?:[.]\d+)*)-x(\d+)/.test(n.Name))return s.push({id:[function(){var t,n,e,i;for(e=RegExp.$2.split("."),i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(Number(r));return i}(),[e=RegExp.$1,i=/^6/.test(RegExp.$3)]],dist:e,x64:i,path:n.Name,active:a?t.FileExists(t.BuildPath(n.Path,a.r)):void 0})}),a&&t.DeleteFile(a.p),s.sort(i.cmpi)},o=function(){var n,e,i;if(t.FolderExists(r.link))for(n=16;--n;)if(!t.FileExists(e=t.BuildPath(r.link,i=s(15))))try{return t.CreateTextFile(e,!0).Close(),{p:e,r:i}}catch(o){return}}}).call(n,e(1),e(3),e(10),e(6),e(4),e(33))},function(t,n){t.exports=function(t,n){var e,i,r;for("function"!=typeof n&&(r=[]),i=0,e=new Enumerator(t);!e.atEnd();){if(r)r.push(e.item());else if(!1===n(e.item(),i++))return;e.moveNext()}return r}},function(t,n,e){(function(t,n,e,i){var r,s,o,a,l,u,c,h=[].slice;this.all=s=[],r=new t,u={},this.list=function(){var t,n,e,i,a,l,c;for(l=arguments[0],e=2<=arguments.length?h.call(arguments,1):[],c=l.stage,i=0,a=e.length;a>i;i++)n=e[i],!n.name||n.stage&&n.stage!==c||(n.alias=t=n.alias?n.alias.split(/\s+/):[],r.add({word:n.name,aliases:t}),u[n.name]=n,s.push(n));return o()},this.find=a=function(t){return u[r.is(t)]},this.dispatch=o=function(){var t;return(t=a(n[0]))||(c(),e(1)),t.cmd.call(t,n.slice(1))},this.header=l=function(){return i("nvm$ v0.1.0: Node Version for MS Windows\n")},c=function(){return l(),i("Run nvm$ help for instructions.")}}).call(n,e(15),e(16),e(14),e(2))},function(t,n,e){(function(n){t.exports=function(t){var e;for(e=[];!n.FolderExists(t);)e.push(t),t=n.GetParentFolderName(t);for(;t=e.pop();)n.CreateFolder(t)}}).call(n,e(1))},function(t,n,e){(function(t,n){t.list({stage:n},e(20),e(13),e(8),e(21),e(22),e(23),e(24),e(25),e(26),e(27))}).call(n,e(11),e(34))},function(t,n,e){(function(n){t.exports=function(t){return null==t&&(t=0),n.Quit(t)}}).call(n,e(7))},function(t,n){var e,i;t.exports=e=function(){if(!(this instanceof e))throw SyntaxError("Use new abbrev")},i=e.prototype,i.add=function(t){var n,e,i,r,s;null==this.z&&(this.z={}),e=[];for(n in t)switch(i=t[n],n){case"word":r=i,e.push(this.z[i]=0);break;case"words":e.push(function(){var t,n,e;for(e=[],t=0,n=i.length;n>t;t++)s=i[t],e.push(this.z[s]=r=s);return e}.call(this));break;case"alias":e.push(this.z[i]=r);break;case"aliases":e.push(function(){var t,n,e;for(e=[],t=0,n=i.length;n>t;t++)s=i[t],e.push(this.z[s]=r);return e}.call(this));break;default:e.push(void 0)}return e},i.is=function(t){var n,e,i,r,s;if(t&&this.z){e=this.z;for(n in e)if(r=e[n],t===n.substring(0,t.length)){if(s=r||n,i&&i!==s)return;i=s}return i}}},function(t,n,e){var i;i=e(29),t.exports=i.slice(Number(":"===i[0]))},function(t,n,e){(function(n,e,i){t.exports=function(t){var r;return n(r=e.BuildPath(i,t)),r=e.BuildPath(r,"nvm$.bat"),e.CreateTextFile(r,!0).WriteLine('@"%~dp0..\\nvm$.bat" %*')}}).call(n,e(12),e(1),e(3))},function(t,n,e){t.exports={node:"https://nodejs.org/dist/",iojs:"https://iojs.org/dist/"}},function(t,n,e){(function(t,n,e,i,r,s,o,a,l,u,c,h,f){var d,p,v,m;this.list=function(a){var l,u,c,h,f,m,g;c=[];for(u in t)m=t[u],l=n.BuildPath(e,u+".tsv"),!a&&p(l)?h=n.OpenTextFile(l).ReadAll():(f=m+"index.tab",i("Fetching <"+f+">..."),n.CreateTextFile(l,!0).WriteLine(h=r.get(f))),h=function(){var t,n,e,i;for(e=s(h),i=[],t=0,n=e.length;n>t;t++)g=e[t],v(g)&&i.push(new d(g,u));return i}(),c=c.concat(h);return c.sort(o.cmpi)},p=function(t){return n.FileExists(t)&&new Date-n.GetFile(t).DateLastModified<864e5},v=function(t){return~t.files.indexOf("-msi")},d=function(t,n){var e,i;return e=function(){var n,e,r,s;for(r=t.version.split(/\D+/),s=[],n=0,e=r.length;e>n;n++)i=r[n],i.length&&s.push(Number(i));return s}(),this.id=[e,[n]],this.dist=n,this.src=t,this},m=d.prototype,m.ver=function(){return this.dist+"-"+this.src.version+"-x"+(this.x64?64:86)},m.msi=function(t){var i;return i=this.ver()+".msi",t?n.BuildPath(e,i):i},m.uri=function(){return""+t[this.dist]+this.src.version+"/"+(this.x64&&!this.id[0][0]?"x64/":"")+this.msi(!1)},m.fetch=function(){var t;return i("Fetching <"+(t=this.uri())+">..."),r.dl(t,this.msi(!0))},m.extract=function(){var t,r,s;return i("Extracting "+this.msi()+"..."),n.FolderExists(r=n.BuildPath(e,s=this.ver()))&&n.DeleteFolder(r),a.Run('msiexec /a "'+this.msi(!0)+'" TARGETDIR='+r+" /passive",1,!0),n.FolderExists(this.dst=t=n.BuildPath(l,s))&&n.DeleteFolder(t),n.MoveFolder(u(n.GetFolder(r).SubFolders).shift().Path,t),n.DeleteFolder(r)},m.shortcuts=function(){return i("Creating shortcuts..."),c(this.ver()),"node"!==this.dist?n.CopyFile(n.BuildPath(this.dst,this.dist+".exe"),n.BuildPath(this.dst,"node.exe")):void 0},m.prefix=function(){var t;return i("Adjusting NPM prefix..."),t=n.OpenTextFile(n.BuildPath(this.dst,"node_modules/npm/npmrc"),8),t.WriteLine('\n# <hack dirty src="https://github.com/ukoloff/nvms">\nprefix=${APPDATA}\\nvm$\\current\n# </hack>'),t.Close()},m.use=function(){var t;return i("Using "+(t=this.ver())+"..."),h.exec(t)},m.install=function(t){return this.x64=null!=t?t:f,this.fetch(),this.extract(),this.shortcuts(),this.prefix(),this.use()}}).call(n,e(18),e(1),e(31),e(2),e(28),e(35),e(6),e(5),e(3),e(10),e(17),e(4),e(30))},function(t,n,e){(function(t,n){var e,i;this.name="help",this.title="Show help for all or individual commands",this.args="[command]",this.help="Shows information on individual commands or nvm$ itself.",this.cmd=function(n){var r;return t.header(),(r=t.find(n[0]))?e(r):i()},e=function(t){return n("nvm$ "+t.name+": "+t.title),t.alias.length&&n("\nAlias: "+t.alias.join(", ")),n("\nUsage: nvm$ "+t.name+" "+(t.args||"")+"\n\n"+(t.help||""))},i=function(){var e,i,r,s;for(n("Usage: nvm$ [:] <command> [parameter(s)]\n\nCommands:"),r=t.all,e=0,i=r.length;i>e;e++)s=r[e],n("	"+s.name+"	"+s.title);return n("\nStart with colon (:) to force pause after script end.\n\nCommand names may be unambiguously abbreviated.\n\nRun nvm$ help <command> for more instructions.")}}).call(n,e(11),e(2))},function(t,n,e){(function(t,n,i,r){var s,o,a,l,u,c;s=e(8),this.name="ls",this.alias="list",this.stage="normal",this.title="List available Node.js versions",this.args="[remote] "+s.args,this.help="List already installed or all available to install Node.js versions",this.cmd=function(t){return/^r/i.test(t[0])?c(t.slice(1)):o(t)},o=function(e){var r,o,a,l,u;for(r=s.parse(e).local(),l=t.list(),o=0,a=l.length;a>o;o++)u=l[o],n.match(u.id,r.z)&&i((u.active?">":"-")+" "+u.path)},c=function(t){var e,o,c,h,f,d,p,v,m;for(e=s.parse(t),p=[],v=a(r.list()),o=0,f=v.length;f>o;o++)m=v[o],n.match(m.id,e.z)&&(h&&!n.cmp(h.major,m.major)?h.minors.push(m.minor):p.push(h=m));for(c=0,d=p.length;d>c;c++)m=p[c],i("- "+m.dist+" "+m.src.version+l(u(m.minors)))},a=function(t){var n,e,i,r;for(n=0,e=t.length;e>n;n++)r=t[n],i=r.major=r.id.slice(),i=i[0]=i[0].slice(),r.minors=[r.minor=i.pop()];return t},u=function(t){var n,e,i,r,s;for(s=[],n=0,i=t.length;i>n;n++)r=t[n],e&&e.b+1===r?e.b=r:s.push(e={a:r,b:r});return s},l=function(t){var n,e;return e=function(){var i,r,s;for(s=[],n=i=0,r=t.length;r>i;n=++i)e=t[n],s.push(""+(n?e.a:"")+(e.b>e.a?" - "+e.b:""));return s}(),e.join(", ")}}).call(n,e(9),e(6),e(2),e(19))},function(t,n,e){(function(t,n,i,r,s,o,a){var l,u,c,h,f;c=e(8),this.name="remove",this.alias="uninstall",this.stage="normal",this.title="Remove Node.js",this.args="[all] "+c.args+" [.]",this.help="Remove specified Node.js version or all installed versions.\n\nWithout trailing dot command only shows candidate(s) to uninstall.\n\nWith trailing dot removing will proceed without additional confirmations!",u=!1,this.cmd=function(e){return u="."===e[e.length-1],/^a/i.test(e[0])?l(e.slice(1)):h(e),u?void 0:t("\nTo actually uninstall say `nvm$ "+n.join(" ")+" .`")},l=function(n){var e,s,o,a,l,h;for(a=0,e=c.parse(n).local().z,h=i.list(),s=0,o=h.length;o>s;s++)l=h[s],r.match(l.id,e)&&(f(l),a++);return u?t("\nNode.js versions found & uninstalled: "+a):void 0},h=function(t){var n,e,s,o,a;for(n=c.parse(t).local().z,a=i.list(),e=0,s=a.length;s>e;e++)if(o=a[e],r.match(o.id,n))return void f(o);throw Error("Specified Node.js version not installed!")},f=function(n){return u?(t("Removing "+n.path),s.DeleteFolder(s.BuildPath(o,n.path)),n.active?a.exec("none"):void 0):void t("Would remove "+n.path+".")}}).call(n,e(2),e(16),e(9),e(6),e(1),e(3),e(4))},function(t,n,e){(function(t,n,e,i,r,s,o,a,l){this.name="setup",this.stage="pre",this.title="Install nvm$",this.help="Installs all files to <"+t+"> and fiddles PATH.",this.cmd=function(){return n.header(),e("Installing to <"+t+">..."),i(t),e("Copying files..."),r.CopyFile(s.ScriptFullName,r.BuildPath(t,"nvm$.bat")),r.CopyFile(o.src(),o.dst()),e("Creating shortcuts..."),a("none"),o.eula(),o.exec("none",!0),e("Updating PATH..."),l.install(),e("Installation complete.\nOpen new console and run 'nvm$ help' to start.")}}).call(n,e(3),e(11),e(2),e(12),e(1),e(7),e(4),e(17),e(32))},function(t,n,e){(function(t,n,i,r){var s,o;s=e(8),this.name="use",this.stage="normal",this.title="Use installed before Node.js version",this.args="[ none | "+s.args+" ]",this.help="Make specified Node.js version active for all processes of current user.\n\nOnly installed versions are used. Use nvm$ install for new ones.\n\nSay `nvm$ use none` to temporarily disable nvm$.",this.cmd=function(e){var a,l,u,c,h,f;if("none"===e[0])return o();for(a=s.parse(e).local().z,h=t.list().reverse(),l=0,u=h.length;u>l;l++)if(c=h[l],n.match(c.id,a)){f=c;break}if(!f)throw Error("Specified Node.js version not installed!");return i("Using "+f.path),r.exec(f.path)},o=function(){return i("Temporary disabling nvm$"),r.exec("none")}}).call(n,e(9),e(6),e(2),e(4))},function(t,n,e){(function(t){this.name="version",this.title="Show version",this.help="Displays nvm$ version.",this.cmd=function(){return t("0.1.0")}}).call(n,e(2))},function(t,n,e){(function(t,n,e,i,r){this.name="which",this.alias="where",this.stage="normal",this.title="Display path to current Node.js",this.help="Shows which folder with Node.js is active for all processes of current user",this.cmd=function(){var s,o,a,l;for(a=t.list(),s=0,o=a.length;o>s;s++)if(l=a[s],l.active)return void n(e.BuildPath(i,l.path));return n(r.link)}}).call(n,e(9),e(2),e(1),e(3),e(4))},function(t,n,e){(function(t){this.name="www",this.alias="repo",this.title="Open homepage",this.help="Opens nvm$ repository in default browser.",this.cmd=function(){return t.run("https://github.com/ukoloff/nvms")}}).call(n,e(5))},function(t,n){var e,i;e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],t.exports=i=function(){var t,n,i;for(t=0,n=e.length;n>t;t++){i=e[t];try{return new ActiveXObject(i)}catch(r){}}throw Error("AJAX not supported!")},i.get=function(t,n){var e;if(e=i(),e.open("GET",t,!1),e.send(null),200!==e.status)throw Error("HTTP error "+e.status+": "+e.statusText);return n?e.responseBody:e.responseText},i.dl=function(t,n){var e,r;return e=i.get(t,!0),r=new ActiveXObject("adodb.stream"),r.Type=1,r.Open(),r.Write(e),r.SaveToFile(n,2),r.Close()}},function(t,n,e){(function(n,e){t.exports=n(e.Arguments)}).call(n,e(10),e(7))},function(t,n,e){(function(n){t.exports=function(){try{return 0>n.RegRead("HKLM\\HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0\\Identifier").indexOf("x86")}catch(t){}}()}).call(n,e(5))},function(t,n,e){(function(n,e,i){n(t.exports=e.BuildPath(i,"cache"))}).call(n,e(12),e(1),e(3))},function(t,n,e){(function(n,e,i){var r,s,o,a;o="Path",s=n.Environment("User"),t.exports=a=function(){return s(o).split(";")},r=new Function("o,k,v","o(k)=v"),a.install=function(t){var n,l;return null==t&&(t=!0),n=e.BuildPath(i,"current"),l=function(){var t,e,i,r;for(i=a(),r=[],t=0,e=i.length;e>t;t++)l=i[t],l!==n&&r.push(l);return r}(),t&&l.unshift(n),r(s,o,l=l.join(";"))}}).call(n,e(5),e(1),e(3))},function(t,n){var e,i;t.exports=i=function(t){var n;for(null==t&&(t=12),n="";n.length<t;)n+=e();return n},i["char"]=e=function(){var t;return t=Math.floor(62*Math.random()),String.fromCharCode(t%26+"Aa0".charCodeAt(t/26))}},function(t,n,e){(function(n){t.exports=n.path.exists()?"normal":"pre"}).call(n,e(4))},function(t,n){var e,i,r;t.exports=r=function(t){return e(i(t))},i=function(t){var n,e,i,r,s,o;for(e="",n=[],s=[],o=function(n){return n.test(t),e+=RegExp.leftContext,t=RegExp.rightContext};t.length;){if(r)switch(o(/""?|$/),RegExp.lastMatch){case'"':r=!1;continue;case'""':e+='"';continue;case"":i=!0}else{if(o(/\t|"|\r\n?|\n|$/),'"'===RegExp.lastMatch){r=!0;continue}i="	"!==RegExp.lastMatch}n.push(e),e="",i&&(s.push(n),n=[])}return s},e=function(t){var n,e,i,r,s,o,a,l,u,c;for(c=[],i=0,s=t.length;s>i;i++)if(a=t[i],a.length>1||a[0].length>0)if(n)for(c.push(u={}),e=r=0,o=n.length;o>r;e=++r)l=n[e],u[l]=a[e];else n=a;return c}}]);
